// @bun
var F=function(j,Q,Z,Y){var B=arguments.length,V=B<3?Q:Y===null?Y=Object.getOwnPropertyDescriptor(Q,Z):Y,N;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")V=Reflect.decorate(j,Q,Z,Y);else for(var G=j.length-1;G>=0;G--)if(N=j[G])V=(B<3?N(V):B>3?N(Q,Z,V):N(Q,Z))||V;return B>3&&V&&Object.defineProperty(Q,Z,V),V};var y=(j,Q)=>{if(typeof Reflect==="object"&&typeof Reflect.metadata==="function")return Reflect.metadata(j,Q)};var{file:o0,inflateSync:p0,serve:s0,write:r0}=globalThis.Bun;import{Auth as t0}from"authored";import{config as a0}from"dotenv";function j0(j){let Q;return class extends j{constructor(...Z){if(Q)return Q;super(...Z);Q=this}}}function Q0(j){return class extends j{constructor(...Q){super(...Q);let Z=new Map;return new Proxy(this,{get(Y,B){let V=`__${B}`;if(!Z.has(V))Z.set(V,Y[B]);return Z.get(V)},set(Y,B,V){return Y[B]=V,!0}})}}}class T{static set p(j){if(Array.isArray(j))console.log(...j);else console.log(j)}}var R0=(j)=>Array.from({length:j},(Q,Z)=>Z),w0="ABCDEFGHIJKLMNOPQRSTUVWXYZ",A0="abcdefghijklmnopqrstuvwxyz",x0=R0(10).join(""),N1=new RegExp(/(\d+)(\d*)/,"m");var _0=(j)=>{return!isNaN(parseFloat(j))&&isFinite(j)};var Y0=(j)=>{return j instanceof Uint8Array||j instanceof ArrayBuffer||typeof j==="string"};var Z0=(j)=>typeof j==="boolean",A=(j)=>typeof j==="string",B0=(j)=>Array.isArray(j);var{keys:V0,entries:q,hasOwn:G1}=Object;var X=Object.assign,b=(j)=>{return Object.keys(j).length},i=(j,Q)=>j.replace(new RegExp(`^${Q}|${Q}$`,"g"),"");var d=(j)=>JSON.stringify(j),N0=(j)=>{return JSON.parse(j)};var G0=(j,Q)=>{let[Z,Y]=Q.replace(/bytes=/,"").split("-").map((B,V)=>{let N=parseInt(B,10);return isNaN(N)?V===0?0:j-1:N});return[Z,Y,j]},K0=(j,Q)=>{return j.reduce((Z,Y,B)=>{return Z[Y]=Q[B],Z},{})},U0=(j,Q=!1)=>{if(_0(j))return Number.isInteger(j)?[j,"int"]:[j,"float"];if(Q&&j.includes("."))return[j,"file"];if(j==="/")return[j,"-"];if(j.length===36&&j.match(/\-/g)?.length===4)return[j,"uuid"];return[j,"string"]};function S(j){let Q=j.startsWith("/")?j:"/"+j,Z=Q.match(/(?<=\/)[^/].*?(?=\/|$)/g)??["/"],[Y,B]=Z.reduce(([V,N],G)=>{if(G.includes("<")){let K=G.match(/(?<=<)[^/].*?(?=>|$)/g);if(K?.length){let[H,$]=K[0].split(":");V.push(H),N.push($)}}else V.push(G);return[V,N]},[[],[]]);if(Q.endsWith("/")&&Q.length>1)Y.push("/");return{parsed:Y,args:B}}class f{date;constructor(j){this.date=j?new Date(j):new Date}delta(j=null,Q=!1){let Z=f.delta(this.date.getTime(),j);return Q?new Date(Z):Z}timed(j){if(!j)return this.date;return[["year","FullYear"],["month","Month"],["day","Date"],["hour","Hours"],["minute","Minutes"],["second","Seconds"]].reduce((Z,[Y,B])=>{let V=j[Y];return V?new Date(Z[`set${B}`](Z[`get${B}`]()+V)):Z},new Date(this.date))}static delta(j,Q=null){return Q?Q-j:j-Date.now()}static get now(){return Date.now()}}var P=(j)=>{let Q=w0+A0;return Array.from({length:j},(Z,Y)=>Q+(Y?x0:"")).reduce((Z,Y)=>{return Z+=Y.charAt(Math.floor(Math.random()*Y.length))},"")};var{deflateSync:F0,gzipSync:y0}=globalThis.Bun;import{JWTInterface as T0}from"authored";class R{route;status;x_args;isFile;headers=new Headers({"Content-Type":"text/plain"});deflate;gzip;constructor({route:j,status:Q=404,headers:Z={}},Y){if(this.status=Q||404,this.route=j,this.x_args=Y||[],Z)this.header=Z;X(this,{status:Q}),this.isFile=!!j?.isFile,this.deflate=(B)=>{let V=F0(B);return this.header={"Content-Length":V.byteLength.toString(),"Content-Encoding":"deflate"},V},this.gzip=(B)=>{let V=y0(B);return this.header={"Content-Length":V.byteLength.toString(),"Content-Encoding":"gzip"},V}}set header(j){q(j).forEach(([Q,Z])=>{this.headers.set(Q,Z)})}set type(j){this.headers.set("Content-Type",j)}options(j,Q={}){return j+=", OPTIONS",new Response("",{status:204,headers:{Allow:j,"Access-Control-Allow-Methods":j,"Access-Control-Max-Age":"86400",...Q}})}}class M{static headstr="";headattr={};head;constructor(){this.head=(j)=>{q(j).forEach(([Q,Z])=>{if(Q=="title"||Q=="base")this.headattr[Q]=Z;else if(!(Q in this.headattr))this.headattr[Q]=Z;else this.headattr[Q].push(...Z)})}}}class W0{}class h extends M{lang="en";status;stream;__session;__jwt;headers={};set header(j){X(this.headers,j)}get header(){return this.headers}set type(j){this.header={"Content-Type":j}}get session(){if(!this.__session)this.__session=W.session.new;return this.__session}set session(j){this.__session=j}get jwt(){if(!this.__jwt)this.__jwt=W.jwt.new;return this.__jwt}set jwt(j){this.__jwt=j}get timedJWT(){return W.jwtInt.jwt()}setCookie({key:j,val:Q,path:Z="/",days:Y=31,httpOnly:B=!1}){let V=S0(j,Q,{expires:new f().timed({day:Y}),path:Z,httpOnly:B,sameSite:"Strict"});this.header={"Set-Cookie":V}}deleteCookie(j){this.setCookie({key:j,val:"",days:0})}}var S0=(j,Q="",{maxAge:Z,expires:Y,path:B,domain:V,secure:N,httpOnly:G,sameSite:K})=>{if(Z instanceof Date)Z=Z.getSeconds();if(Y instanceof Date)Y=Y.toUTCString();else if(Y===0)Y=new Date().toUTCString();return[["Domain",V],["Expires",Y],["Max-Age",Z],["Secure",N],["HttpOnly",G],["Path",B],["SameSite",K]].reduce(($,[w,z])=>{if(z!==void 0)$.push(`${w}=${z}`);return $},[`${j}=${Q}`]).join("; ")};class o{ctrl;intervalID=[];constructor(j){this.ctrl=j}push(j,Q=2000){if(this.ctrl){let Z=setInterval(()=>{let{id:Y,retry:B,data:V,event:N,end:G}=j();if(this.ctrl){let K=G?"end":V;if(B){let H=B>2000?B:2000;this.ctrl.enqueue(`retry: ${H}\\n`)}if(this.ctrl.enqueue(`id: ${Y}\\n`),N&&this.ctrl.enqueue(`event: ${N}\\n`),typeof K=="object")this.ctrl.enqueue("data: "+JSON.stringify(K)+"\\n\\\n");else this.ctrl.enqueue("data: "+JSON.stringify({message:K})+"\\n\\n");G&&this.close()}},Q>1000?Q:1000);this.intervalID.push(Z)}}close(){if(this.intervalID.length)this.intervalID.forEach((j)=>{clearInterval(j)}),this.intervalID=[];this.ctrl?.close()}}class u{session;jwt;jwtInt;constructor(){this.jwtInt=new T0}init(j){this.session=j.session,this.jwt=j.jwt}}u=F([j0,y("design:paramtypes",[])],u);var W=new u;var{file:$0,gzipSync:f0}=globalThis.Bun;class p{path;proto;config;isWSS;isFile;options;bytes;parsed=[];args=[];fileType="text/plain";constructor(j,Q,Z={},Y=!1,B=!1,V=""){this.path=j;this.proto=Q;this.config=Z;this.isWSS=Y;this.isFile=B;this.options=V;if(X(this,S(j)),B)this.fileType=$0(j).type}async loadbytes(j){if(this.config.preload)try{let Q=await $0(j+this.path).bytes();this.bytes=f0(Q)}catch{throw`error: can't preload ${this.path}. File not found.`}return this}}var{setPath:g,getPath:H0,setFolder:J0}=function(){let j=["string","int","float","file","uuid"],Q=["GET","POST","PUT","DELETE","OPTIONS"],Z=new Map,Y=new Map,B=new Map,V=new Map,N=(U,J)=>{return U?Y:J?B:Z},G=(U)=>{let J=U.slice().pop();return J?U0(J,!0).pop()==="file":!1},K=(U)=>{return Q.filter((J)=>U[J.toLowerCase()]).join(", ")},H=(U)=>{let{path:J,parsed:E,isFile:D,isWSS:O}=U,I=N(O,D),L=JSON.stringify(E);if(!I.get(L))I.set(L,U);else if(!D)throw`path: ${J} already declared.`};function $(U,J={}){U=i(U,"."),U=i(U,"/"),V.set(U,J)}function w({isFile:U,parsed:J,path:E}){if(!U)return new R({});let D=J.slice(0,-1).join("/");for(let[O,I]of V.entries())if(D.startsWith(O))return new R({route:new p(`.${E}`,null,{requireSession:!!I?.requireSession},!1,U),status:200});return new R({})}function z(U,J,E,D,O){return(I)=>{let L=new p(U,I.prototype,J,E,D,K(I.prototype));if(O)L.loadbytes(O);return H(L),I}}function C0({parsed:U,isWSS:J=!1,path:E}){let D=G(U),O=[],I=N(J,D),L=I.get(d(U));if(!L){let _=[];for(let P0 of I.keys()){let a=N0(P0),e=a.length;if(U.length===e)for(let C=0;C<e;C++){let m=U[C],k=a[C];if(k===m)_[C]=m;else if(j.includes(k))_[C]=k,O.push(m)}}L=I.get(d(_))}if(L)return new R({route:L,status:200},O);else return w({isFile:D,parsed:U,path:E})}return{setPath:z,getPath:C0,setFolder:$}}();var c=new Map;class s{request;ws;path;id;broadcasting=!1;max=0;constructor(j){this.request=j;this.path=j.path,this.id=P(10)}async open(){}async message(j){}async close(j,Q){}set send(j){if(j)if(this.broadcasting)this.ws.publish(this.path,j);else this.ws.send(j)}get role(){let j=c.get(this.path);if(j&&this.id in j)return j[this.id].role}get session(){if(!this.__session)this.__session=W.session.new;return this.__session}set session(j){this.__session=j}get jwt(){if(!this.__jwt)this.__jwt=W.jwt.new;return this.__jwt}set jwt(j){this.__jwt=j}get timedJWT(){return W.jwtInt.jwt()}}class I0{async open(){}async message(j){}async close(j,Q){}max=0;broadcasting=!1}var L0=(j)=>{if(!c.get(j))c.set(j,{});return c.get(j)??{}},D0={async open(j){let Q=j.data.wclass,{z_args:Z,client:Y}=j.data;if(Q){Q.ws=j;let B=Q.id,V=b(Y);if(!(B in Y)){let N=V?"joiner":"maker";Y[B]={role:N}}if(typeof Q.init=="function")await Q.init(Z);if(Q.broadcasting)Q.ws.subscribe(Q.path);await Q.open()}else j.close()},async message(j,Q){let Z=j.data.wclass;if(Z)await Z.message(Q)},async close(j,Q,Z){let Y=j.data.wclass,B=j.data.client;if(Y){if(await Y.close(Q,Z),Y.broadcasting)Y.ws.unsubscribe(Y.path);let V=Y.id;if(delete B[V],b(B)===1)V0(B).forEach((N,G)=>{B[N].role="maker"})}}};var{file:g0}=globalThis.Bun;import{ServerSide as c0}from"authored";var{Server:u0}=globalThis.Bun;class x{req;server;formData;url;method;__cookies=new Map;constructor(j,Q){this.req=j;this.server=Q;this.url=new URL(j.url),this.method=this.req.method.toLowerCase()}async form(){if(this.isForm){if(!this.formData)this.formData=await this.req.formData();return this.formData}return new FormData}async authgroup(){let{cookies:j,auth:Q}=this,Z=j.get("session")??"",Y=Q??"",B="",V=this.isForm?await this.form():void 0;if(V){let N=V.get("refresh_token");B=N?N.toString():""}return{sid:Z,jwtv:Y,refreshjwt:B}}upgradeConnection(j={}){return!!this.server?.upgrade(this.req,j)}get auth(){let j=this.headers.get("authorization");if(j){let[Q,Z]=j.split(" ",2);if(Q.trim()=="Bearer")return Z.trim()}}get accept(){return this.headers.get("accept")}get contentType(){return this.headers.get("content-type")}get cookies(){if(!this.__cookies.size){let j=this.headers.get("cookie");if(j){let Q=j.split(";").reduce((Z,Y)=>{let[B,V]=Y.trim().split(/=(.*)/s);return Z.push([B,V]),Z},[]);this.__cookies=new Map(Q)}}return this.__cookies}get headers(){return this.req.headers??new Headers}get ip(){return this.server?.requestIP(this.req)}get isForm(){let j=this.contentType;return j?j.indexOf("multipart/form-data")>=0||j.indexOf("x-www-form-urlencoded")>=0:!1}get isEventStream(){return this.accept?.includes("text/event-stream")}get path(){return this.url.pathname}get parsed(){let{parsed:j}=S(this.path);return j}get searchParams(){return this.url.searchParams}get range(){return this.headers.get("range")??void 0}get isWSS(){return!!this.headers.get("upgrade")}get upgrade(){return this.headers.get("upgrade")}get request(){return this.req}get signal(){return this.req.signal}}x=F([Q0,y("design:paramtypes",[typeof Request==="undefined"?Object:Request,typeof u0==="undefined"?Object:u0])],x);class n{app;data;constructor(j,Q={}){this.app=j;this.data=Q}_head(j){if(!j.startsWith("."))j="."+j;return`<script type="module">import x from "${j}";x.ctx(${JSON.stringify(this.data)});</script>`}async render(j,Q){if(A(this.app)){let Z=this._head(this.app);return l("",j+Z,Q)}else if("ssr"in this.app){let Z=await this.app.ssr(this.data);return l("",j+Z.script,Q,Z.body)}return l("",j,Q)}}class v{apt;method;isFile;isEStream;isWSS=!1;z_args={};constructor(j,Q,Z="./"){this.apt=Z;let Y=new x(j,Q),{parsed:B,method:V,path:N,isWSS:G,isEventStream:K}=Y,H=H0({parsed:B,isWSS:G,path:N});this.isEStream=!!K,this.isWSS=G,this.isFile=H.isFile,this.method=V;let $=k0(Y);Object.defineProperties(this,{req:{get:function(){return Y}},_resp:{get:function(){return $}},maker:{get:function(){return H}}})}push(j,Q){let{status:Z,headers:Y}=this.maker;return Q??=Z,new Response(j,{status:Q,headers:Y})}async processMethod(j){let{maker:Q,method:Z,_resp:Y}=this,B=await j.call(Y,this.z_args);if(typeof B==="object"&&"error"in B){Q.status=B.error;return}let{header:V,status:N,headattr:G,lang:K,__session:H}=Y;if(b(V))Q.header=V;if(N)Q.status=N;if(H&&await i0(H,Q.headers),!B){Q.status=N??204;return}if(B instanceof Response)return Q.status=B.status,Q.header=B.headers.toJSON(),await B.arrayBuffer();if(Z==="post"&&B instanceof c0)return l0.call(this,B);if(typeof B==="object"&&!(B instanceof n))return Q.type="application/json",JSON.stringify(B);Q.type="text/html";let $=[M.headstr,...r(G)].join("");if(B instanceof n)return await B.render($,K);return l(String(B),$,K)}async response(){let{maker:j,isWSS:Q,isFile:Z,isEStream:Y,method:B,_resp:V}=this,N=j.route;if(!N)return this.push(j.deflate(""));if(this.z_args=K0(N.args??[],j.x_args),await E0(V,this.z_args,await this.req.authgroup()),X0(!!N.config.requireSession,this.z_args))return j.status=401,this.push();if(Z)return this.push(await m0.call(this,N));let{proto:G,isWSS:K}=N;if(Q&&K){let $=await v0.call(this,N);return this.push(j.deflate($??""))}let H="eventStream";if(G?.[H]&&Y){let $=await n0.call(this,G[H]);return this.push($)}if(G?.[B]){let $=await this.processMethod(G[B]);return this.push(j.deflate($??""))}return this.push(j.deflate(""))}}async function l0(j){let Q=this.maker,{jwtv:Z,refreshjwt:Y}=await this.req.authgroup(),B={},V=(G)=>{return Q.status=403,{error:G}},N=async(G)=>{let K=W.jwtInt.save(G);return G.access_token=K,await W.jwt.saveSession(G,Q.headers),{access_token:K,refresh_token:G.sid,status:"ok"}};if(Y){let G=await W.jwt.openSession(Y),K=G.data.access_token;if(Z!==K)B=V("tokens don't match.");else if(!W.jwtInt.verify(K,{days:5}))await W.jwt.saveSession(G,void 0,!0),B=V("expired refresh_token");else B=await N(G)}else if(!Z&&j.modified)B=await N(j);else Q.status=204;return Q.type="application/json",JSON.stringify(B)}async function E0(j,Q,Z){let Y={},{sid:B,jwtv:V,refreshjwt:N}=Z;if(B){if(j.session=await W.session.openSession(B),!j.session.new)Y.session=!0}if(V){if(j.jwt=W.jwtInt.open(V,{hours:6}),!j.jwt.new)Y.jwt=!0;if(N){if(!(await W.jwt.openSession(N)).new)Y.jwt_refresh=!0}}if(b(Y))X(Q,Y)}async function n0(j){let{req:Q,z_args:Z,_resp:Y}=this,B=this.maker,V=new ReadableStream({async start(G){Y.stream=new o(G),await j.call(Y,Z),Q.signal.addEventListener("abort",()=>{if(Y.stream?.close(),Y.stream?.intervalID.length)G.close()})}});B.header={"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"};let N=await j.call(Y,Z);if(typeof N==="object"&&"error"in N)return B.status=N.error,"";return V}async function v0(j){let{req:Q,z_args:Z}=this,Y=new s(Q);if(await E0(Y,Z,await Q.authgroup()),X0(!!j.config.requireSession,Z))return this.maker.status=401,"";let{broadcast:B,maxClient:V}=j.config,N=Y.path,G=L0(N),K=b(G);if(Y.broadcasting=!!B,Y.max=V??0,V&&K>=V)return"upgrade error";let{open:H,message:$,close:w,init:z}=j.proto;return Y.open=H,Y.message=$,Y.close=w,Y.init=z,this.req.upgradeConnection({data:{wclass:Y,z_args:Z,client:G}}),"upgrade error"}async function m0(j){let Q=this.req.range,Z=this.maker,{path:Y,bytes:B,fileType:V}=j;if(B)return O0(B,B.byteLength,V,Z,Q);let N=g0(this.apt+Y);try{let K=V.startsWith("video/")?N:await N.bytes();return O0(K,N.size,V,Z,Q)}catch{return Z.status=404,`${Y} file not found.`}}var O0=(j,Q,Z,Y,B)=>{if(Y.type=Z,!B)return Y.header={"Cache-Control":"max-age=86400, must-revalidate"},Y0(j)?Y.gzip(j):j;let[V,N,G]=G0(Q,B);return Y.header={"Content-Range":`bytes ${V}-${N}/${G}`,"Content-Length":Q.toString()},Y.status=206,j.slice(V,N+1)},r=(j)=>{if(!j)return[];return q(j).reduce((Q,[Z,Y])=>{if(A(Y))return Q.push(`<${Z}>${Y}</${Z}>`),Q;if(!B0(Y))return Q;let B=Y.map((V)=>{if(Z==="script"){let N={...V},G="";if("importmap"in N)N.type="importmap",G=JSON.stringify(N.importmap),delete N.importmap;else if("body"in N)G=N.body,delete N.body;return`<${Z}${q0(N)}>${G}</${Z}>`}return`<${Z}${q0(V)}>`});return Q.push(...B),Q},[])},q0=(j)=>{return q(j).reduce((Q,[Z,Y])=>{return Q.push(Z0(Y)?Z:`${Z}="${Y}"`),Q},[""]).join(" ")},X0=(j,Q)=>{return j&&!(("session"in Q)||("jwt"in Q))},l=(j,Q,Z,Y)=>{return[`<!DOCTYPE html><html lang="${Z}">`,`<head>${Q}</head>`,Y?Y:`<body id="${P(5)}">${j}</body>`,"</html>"].join("")},k0=(j)=>{let Q=new h;return Object.defineProperties(Q,{request:{get:function(){return j}}}),Q},i0=async(j,Q)=>{await W.session.saveSession(j,Q)};import{watch as e0}from"fs";import{mkdirSync as d0,writeFileSync as h0}from"fs";var b0=(j,Q="")=>{try{return h0(j,Q,{flag:"wx"}),!0}catch(Z){return!1}},M0=(j)=>{return d0(j,{recursive:!0}),!0};class j1 extends M{dir;apt;serve;constructor(j="./",Q={}){super();this.dir=j;let Z=this.dir+"/.private",{envPath:Y,appDir:B,session:V}=Q;if(!Y)M0(Z),b0(Z+"/.env",`SECRET_KEY="${P(20)}"`);this.apt=j+"/"+(B??"app")+"/",a0({path:(Y?Y:Z)+"/.env"});let N=V??new t0({dir:this.dir});W.init(N),this.serve=async(G,K)=>await Q1.call(this,G,K)}route(j){return g(j,{},!1,!1)}wss(j,Q={}){return g(j,Q,!0,!1)}redirect(j,Q={}){return new Response("",{status:302,headers:{...Q,Location:j}})}folders(...j){j.forEach((Q)=>J0(...z0(Q)))}files(...j){j.forEach((Q)=>{let[Z,Y]=z0(Q),B=Z.replace(/^\.+/,""),V=B.startsWith("/")?B:"/"+B;g(V,Y,!1,!0,Y.preload?this.apt:void 0)})}session(...j){return t(j[0],j[2],"session")}jwt(...j){return t(j[0],j[2],"jwt")}jwt_refresh(...j){return t(j[0],j[2],"jwt_refresh")}}async function Q1(j,Q={}){let{path:Z,hostname:Y,method:B,port:V}=j;if(V??=3000,M.headstr=r(this.headattr).join(""),Z)await Z1({url:`http://${Y??"127.0.0.1"}:${V}${Z}`,method:B??"GET"},this.apt);else s0({port:j.port,tls:Y1(this.dir),fetch:async(N,G)=>{return await new v(N,G,this.apt).response()},websocket:{sendPings:!0,perMessageDeflate:!0,...Q,...D0}})}var Y1=(j)=>{return q(process.env).filter(([Q])=>Q.startsWith("TLS_")).reduce((Q,[Z,Y])=>{if(Y){let B=Z.replace("TLS_","").toLowerCase();Q[B]=o0(j+"/"+Y)}return Q},{})},z0=(j)=>{let Q=A(j);return[Q?j:j[0],Q?{}:j[1]]},t=(j,Q,Z)=>{let Y=Q.value;return Q.value=async function(B={}){if(Z in B&&B.session)return Y.call(j,B);return{error:401}},Q},Z1=async(j,Q)=>{let Z=await new v(j,void 0,Q).response(),Y=p0(await Z.arrayBuffer());Y.byteLength&&r0(Q+"index.html",Y)};class B1{dir;files;out;target;define;constructor({dir:j,files:Q,out:Z,target:Y="browser",define:B={}}){this.dir=j,this.files=Q.map((V)=>j+"/"+V),this.out=Z,this.target=Y,this.define=B??{}}build(){return this.files.length&&Bun.build({entrypoints:this.files,outdir:this.out,splitting:!0,minify:{identifiers:!0,whitespace:!0,syntax:!0},target:this.target??"browser",naming:{chunk:"[name]-[hash].[ext]",entry:"[dir]/[name].[ext]",asset:"[name]-[hash].[ext]"},define:{...this.define},experimentalCss:!0}).then((j)=>{if(j.success)T.p="success";else T.p=j.logs}),this}watch(j){let Q=j?this.dir+j:this.dir,Z=e0(Q,{recursive:!0},async(Y,B)=>{if(B&&B.endsWith("tsx"))this.build()});process.on("SIGINT",()=>{console.log(`
watcher closed...`),Z.close(),process.exit(0)})}}export{I0 as websocket,W0 as response,n as Render,j1 as Raboot,B1 as Builder,T as $$};
